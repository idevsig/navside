<!-- 主体内容 -->
<div id="content" class="content-site customize-site">
	<!-- 避免 `webstack` 为空时报错 -->
	{{ with $.Site.Data.navsites }}
	{{ range $index, $_ := . }}
	{{ $hash_str := printf "%v-main-%v" $index .taxonomy | md5 }}
	<div class="d-flex flex-fill" id="category-{{ $hash_str }}">
		<h4 class="text-gray text-lg mb-2">
			{{ with .icon }}<i class="{{ . }} fa-lg icon-fw icon-lg mr-2"></i>{{ end }}
			{{ .taxonomy }}
		</h4>
		<div class="flex-fill"></div>
	</div>

	{{ with .list }}
	{{ if gt (len .) 0 }}
	<div class="d-flex flex-fill flex-tab align-items-center">
		<div class="overflow-x-auto slider_menu mini_tab" slidertab="sliderTab">
			<ul class="nav nav-pills menu" role="tablist">
				{{ range $idx, $_ := . }}
				{{ $hash_str_sub := printf "%v-%v-child-%v" $index $idx .term | md5 }}
				<li class="pagenumber nav-item" data-id="{{ $hash_str_sub }}" more='0'>
					<a id="category-{{ $hash_str_sub }}" class="nav-link {{ if eq $idx 0 }}active{{ end }}" data-toggle="pill" href="#tab-{{ $hash_str_sub }}">{{ .term }}</a>
				</li>
				{{ end }}
			</ul>
		</div>
		<div class='flex-fill'></div>
	</div>
	{{ end }}

	<div class="tab-content mt-2">
		{{ range $idx, $_ := . }}
		{{ $hash_str_sub := printf "%v-%v-child-%v" $index $idx .term | md5 }}
		{{ if gt (len .links) 0 }}
		<div id="tab-{{ $hash_str_sub }}" class="tab-pane {{ if eq $idx 0 }}active{{ end }}" load="1">
			<div class="row sortable row-{{ $hash_str_sub }}" id="{{ $hash_str_sub }}">
				{{ range $i, $_ := .links }}
				{{ $index_id := printf "index-%v-%v-%v" $index $idx $i }}
				<div class="url-card col-6 col-sm-6 col-md-4 col-xl-5a col-xxl-6a" id="{{ $index_id }}">
					<div class="url-body default">
						{{ if .qrcode }}
						<a href="javascript:void(0);" 
							class="card no-c mb-4" 
							alt="{{ .title }}" 
							data-toggle="tooltip" 
							data-placement="bottom" 
							data-html="true" 
							rel="noopener noreferrer"
							title="<img src='{{ .qrcode }}' width='128'>">
						{{ else }}	
						<a href="{{ .url }}" 
							target="_blank" 
							alt="{{ .title }}" 
							title="{{ .description }}"
							class="card no-c mb-4" 
							data-url="{{ .url }}" 
							data-placement="bottom" 
							data-toggle="tooltip"
							rel="noopener noreferrer">
						{{ end }}
							<div class="card-body">
								<div class="url-content d-flex align-items-center">
									<div class="url-img mr-2 d-flex align-items-center justify-content-center">
										{{- $defaultLogo := $.Site.Params.Images.defaultLogo -}}
										{{ if hasPrefix .logo "http" }}
										<img class="lazy" 
											src="{{ .logo }}" 
											data-src="{{ .logo }}" 
											onerror="this.src='{{ $defaultLogo }}'"
											alt="{{ .title }}">
										{{ else }}
										{{ if .logo }}
										<img class="lazy" src="{{ $.Site.Params.Images.logosPath }}/{{ .logo }}" alt="{{ .title }}">
										{{ else }}
										<img class="lazy" src="{{ $defaultLogo }}" alt="{{ .title }}">
										{{ end }}
										{{ end }}										
									</div>
									<div class="url-info flex-fill">
										<div class="text-sm overflowClip_1">
											<strong>{{ .title }}</strong>
										</div>
										<p class="overflowClip_1 m-0 text-muted text-xs">{{ .description }}</p>
									</div>
								</div>
							</div>
						</a>
						<a href="{{ .url }}" 
							class="togo text-center text-muted is-views" 
							data-id="689" 
							data-toggle="tooltip" 
							data-placement="right" 
							title="直达" 
							rel="nofollow">
							<i class="far fa-arrow-alt-circle-right"></i>
						</a>						
					</div>
				</div>
				{{ end }}
			</div>
		</div> 
		{{ end }}
		{{ end }}
	</div>
	{{ end }}
	{{ end }}
	{{ end }} 

	{{ partial "friends.html" . }}
</div>
